name: Rust
description: A Rust project using Cargo
emoji: ðŸ¦€

# Variables are defined at the top and can be:
# - prompted from user
# - set from command output
# - hardcoded defaults
variables:
  project_name:
    prompt: Project name
  use_github:
    prompt: Create GitHub repository?
    type: boolean
    default: false

# Steps run in sequence, each can be conditional
steps:
  - name: Initialize Rust project
    run: cargo init {project_dir}
    check: cargo
    error: Cargo is not installed. Please install Rust from https://rustup.rs

  - name: Initialize git
    if: use_github
    run: git init

  - name: Copy gitignore
    if: use_github
    copy:
      from: rust/.gitignore
      to: .gitignore

  - name: Create GitHub repository
    if: use_github
    run: |
      git add .
      git commit -m 'Initial commit'
      gh repo create {project_name} --private --source=. --remote=origin
      git push -u origin main 